# 即梦文生图 Gradio 可视化界面

这是一个基于 Gradio 的即梦文生图 API 可视化界面，提供友好的 Web 界面来生成 AI 图像。

## 功能特性

- 🎨 直观的 Web 界面
- 🔑 API 密钥和地址配置
- 🤖 多模型支持（jimeng-2.1, jimeng-2.0, jimeng-1.4）
- 💭 正向和负向提示词输入
- 🖼️ 可调节的图像参数（宽度、高度、采样强度）
- 📋 详细的 API 响应信息
- 💡 示例提示词快速选择

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行应用

```bash
python jm1_gradio.py
```

应用将在 `http://localhost:7860` 启动。

## 使用说明

### 1. 配置 API
- 输入您的即梦 API 密钥
- 设置 API 地址（默认：`https://api.jimeng.ai/v1/images/generations`）

### 2. 选择模型
- 从下拉菜单中选择合适的即梦模型版本
- 推荐使用 `jimeng-2.1` 获得最佳效果

### 3. 编写提示词
- **正向提示词**：描述您想要生成的图像内容
- **负向提示词**：描述您不想要的元素（可选）

### 4. 调整参数
- **宽度/高度**：设置生成图像的尺寸（512-2048像素）
- **采样强度**：控制生成的随机性（0.1-1.0）

### 5. 生成图像
- 点击"🎨 生成图像"按钮
- 等待 API 响应并查看生成结果

## 提示词技巧

### 好的提示词示例：
- "一只可爱的橘猫坐在樱花树下，动漫风格，柔和光线"
- "未来科技城市夜景，霓虹灯闪烁，赛博朋克风格，高清细节"
- "古代中国山水画，水墨风格，远山如黛，云雾缭绕"

### 提示词建议：
- 使用具体、详细的描述
- 包含风格信息（如：动漫风格、写实风格、水彩画风格）
- 描述光线和氛围（如：柔和光线、戏剧性光影）
- 添加质量词汇（如：高清、细节丰富、专业摄影）

## 文件结构

```
wenshengtu1/
├── jm1_gradio.py      # Gradio 主应用文件
├── jm1_jiekou.py      # 原始 FastAPI 接口文件
├── requirements.txt    # 依赖包列表
├── README.md          # 说明文档
├── static/            # 静态文件目录
└── temp/              # 临时文件目录
```

## 注意事项

1. 确保您有有效的即梦 API 密钥
2. 网络连接稳定，API 调用可能需要一些时间
3. 生成的图像质量取决于提示词的质量和模型版本
4. 建议使用合理的图像尺寸以平衡质量和生成速度

## 故障排除

### 常见问题：

**Q: API 请求失败**
- 检查 API 密钥是否正确
- 确认 API 地址是否可访问
- 检查网络连接

**Q: 图像无法显示**
- 检查 API 响应格式
- 确认返回的图像 URL 是否有效

**Q: 依赖安装失败**
- 确保 Python 版本 >= 3.8
- 尝试升级 pip：`pip install --upgrade pip`

## 技术栈

- **Gradio**: Web 界面框架
- **FastAPI**: 后端 API 框架
- **Pydantic**: 数据验证
- **Requests**: HTTP 客户端
- **Pillow**: 图像处理

## 许可证

本项目遵循 MIT 许可证。