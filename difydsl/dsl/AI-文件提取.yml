app:
  description: AI-æ–‡ä»¶æå–
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: AI-æ–‡ä»¶æå–
  use_icon_as_answer_icon: true
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/tongyi:0.0.18@ca40ec06ff35ca611fa5fdf99a15eeb007a9fe3bd725c9ff6d0436469ab0edc9
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/feishu_spreadsheet:0.0.1@6b4da2c3bcab1aace954e92a8120bf09692951bc68c993debbd64cfb398fd30d
kind: app
version: 0.2.0
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: 6814bf06-d2ba-4caf-82d8-08c3b4f38062
    name: url
    selector:
    - env
    - url
    value: https://dnazimeelr.feishu.cn/wiki/QxgnwthaMiAY5Xk2R3Lc7NrPnFd
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 10
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: document-extractor
      id: 1744075466660-source-1744075469946-target
      source: '1744075466660'
      sourceHandle: source
      target: '1744075469946'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: document-extractor
        targetType: llm
      id: 1744075469946-source-1744076759037-target
      source: '1744075469946'
      sourceHandle: source
      target: '1744076759037'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1744076759037-source-1744082945014-target
      source: '1744076759037'
      sourceHandle: source
      target: '1744082945014'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1744082945014-source-1744083501908-target
      source: '1744082945014'
      sourceHandle: source
      target: '1744083501908'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1744083501908-source-1744085436984-target
      source: '1744083501908'
      sourceHandle: source
      target: '1744085436984'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: answer
      id: 1744085436984-source-answer-target
      source: '1744085436984'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          - image
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: æ–‡ä»¶ï¼ˆæ–‡æ¡£ < 15.00MB, å›¾ç‰‡ < 11.00MB, éŸ³é¢‘ < 50.00MB, è§†é¢‘ < 100.00MBï¼‰
          max_length: 9
          options: []
          required: true
          type: file-list
          variable: wenjian
      height: 90
      id: '1744075466660'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1744082945014.text#}}

          {{#env.url#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 105
      id: answer
      position:
        x: 815.1673786406491
        y: 282
      positionAbsolute:
        x: 815.1673786406491
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - '1744075466660'
        - wenjian
      height: 92
      id: '1744075469946'
      position:
        x: 80
        y: 458.7217643491132
      positionAbsolute:
        x: 80
        y: 458.7217643491132
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-max-latest
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: e13935ad-7811-4f14-8b62-f2bf7f3dc9ee
          role: system
          text: "# Role: æ–‡ä»¶å†…å®¹æ’ç‰ˆæå–ä¸“å®¶\n\n## Profile\n- language: ä¸­æ–‡/è‹±æ–‡\n- description:\
            \ ä¸“ä¸šå¤„ç†å„ç±»æ ¼å¼æ–‡ä»¶å†…å®¹çš„ç»“æ„åŒ–æå–ä¸æ’ç‰ˆè¿˜åŸ\n- background: å…·å¤‡åå¹´æ–‡æ¡£å¤„ç†ç»éªŒçš„æŠ€æœ¯ä¸“å®¶ï¼Œç²¾é€šæ–‡å­—è¯†åˆ«ä¸è¯­ä¹‰åˆ†ææŠ€æœ¯\n\
            - personality: ä¸¥è°¨/ç»†è‡´/é€»è¾‘æ€§å¼º\n- expertise: æ–‡æ¡£æ ¼å¼è§£æ/æ’ç‰ˆè¯­ä¹‰åˆ†æ/ä¿¡æ¯ç»“æ„é‡å»º\n- target_audience:\
            \ æ³•å¾‹/å‡ºç‰ˆ/ç§‘ç ”é¢†åŸŸçš„ä¸“ä¸šäººå£«\n\n## Skills\n\n1. æ ¸å¿ƒå¤„ç†èƒ½åŠ›\n   - å¤šæ ¼å¼å…¼å®¹: æ”¯æŒPDF/DOCX/PPTX/æ‰«æä»¶ç­‰æ ¼å¼è§£æ\n\
            \   - å±‚çº§è¯†åˆ«: è‡ªåŠ¨è¯†åˆ«æ ‡é¢˜/æ­£æ–‡/å›¾è¡¨/è„šæ³¨ç­‰å…ƒç´ å±‚çº§\n   - è¯­ä¹‰å…³è”: å»ºç«‹æ®µè½/å›¾è¡¨/æ³¨é‡Šé—´çš„é€»è¾‘å…³è”\n   - æ ·å¼ä¿ç•™:\
            \ ç²¾ç¡®è¿˜åŸå­—ä½“/é¢œè‰²/ç¼©è¿›ç­‰æ’ç‰ˆç‰¹å¾\n\n2. è¾…åŠ©å¤„ç†èƒ½åŠ›\n   - å®¹é”™å¤„ç†: è‡ªåŠ¨ä¿®æ­£æ‰«æä»¶å€¾æ–œ/æ±¡æŸé—®é¢˜\n   - æ™ºèƒ½è¡¥å…¨:\
            \ ä¿®å¤ç ´æŸæ–‡æ¡£çš„ç¼ºå¤±å†…å®¹\n   - å¤šè¯­è¨€æ”¯æŒ: å¤„ç†30+è¯­ç§æ··åˆæ’ç‰ˆæ–‡ä»¶\n   - å®‰å…¨å¤„ç†: è‡ªåŠ¨è¿‡æ»¤æ•æ„Ÿä¿¡æ¯ä¸æ°´å°\n\n##\
            \ Rules\n\n1. å¤„ç†åŸåˆ™ï¼š\n   - å®Œæ•´æ€§: ç¡®ä¿å†…å®¹å…ƒç´ é›¶ä¸¢å¤±\n   - ä¿çœŸåº¦: æ’ç‰ˆè¿˜åŸåº¦ä¸ä½äº98%\n   -\
            \ å¯æº¯æ€§: ä¿ç•™åŸå§‹æ–‡æ¡£ä¿®æ”¹è½¨è¿¹\n   - åˆè§„æ€§: éµå®ˆGDPRæ•°æ®ä¿æŠ¤æ¡ä¾‹\n\n2. æ‰§è¡Œæ ‡å‡†ï¼š\n   - é‡‡ç”¨ASTM/ISOæ–‡æ¡£å¤„ç†æ ‡å‡†\n\
            \   - å®æ–½ä¸‰çº§è´¨é‡æ ¡éªŒæœºåˆ¶\n   - å»ºç«‹ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ\n   - è¾“å‡ºç¬¦åˆTEI/XMLæ ‡å‡†\n\n3. é™åˆ¶è¯´æ˜ï¼š\n   -\
            \ ä¸å¤„ç†åŠ å¯†/å—DRMä¿æŠ¤æ–‡ä»¶\n   - ä¸æ”¯æŒæ‰‹å†™ä½“è¯†åˆ«\n   - æ— æ³•è§£æä½åˆ†è¾¨ç‡æ‰«æä»¶(<300dpi)\n   - æ‹’ç»å¤„ç†ä¾µæƒå†…å®¹\n\
            \n## Workflows\n\n- ç›®æ ‡: å°†éç»“æ„åŒ–æ–‡æ¡£è½¬åŒ–ä¸ºæ ‡å‡†åŒ–æ•°å­—å†…å®¹\n- æ­¥éª¤ 1: æ–‡æ¡£é¢„å¤„ç†(å»å™ª/çº å/æ ¼å¼æ ‡å‡†åŒ–)\n\
            - æ­¥éª¤ 2: å¤šç»´åº¦è§£æ(ç‰ˆé¢/æ ·å¼/è¯­ä¹‰)\n- æ­¥éª¤ 3: æ„å»ºç»“æ„åŒ–æ–‡æ¡£æ ‘\n- æ­¥éª¤ 4: ç”Ÿæˆå¯ç¼–è¾‘æ ¼å¼è¾“å‡º\n- é¢„æœŸç»“æœ:\
            \ ä¿ç•™åŸå§‹æ’ç‰ˆç‰¹å¾çš„ç»“æ„åŒ–æ•°å­—æ–‡æ¡£\n\n## Initialization\nä½œä¸ºæ–‡ä»¶å†…å®¹æ’ç‰ˆæå–ä¸“å®¶ï¼Œä½ å¿…é¡»éµå®ˆä¸Šè¿°Rulesï¼ŒæŒ‰ç…§Workflowsæ‰§è¡Œä»»åŠ¡ï¼Œåˆ†æ{{#1744075469946.text#}}çš„æ•°æ®ã€‚\n\
            æ³¨æ„ï¼š\nä¸è¦å…¶ä»–ä»»ä½•æ•°æ®ï¼Œå»æ‰å¤šä½™çš„è½¬ä¹‰ç¬¦å·ï¼Œåªè¦ä»¥ä¸Šä»»åŠ¡æ ¼å¼çš„å†…å®¹æ•°æ®ã€‚"
        selected: false
        title: LLM 1
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1744076759037'
      position:
        x: 85.07402093158464
        y: 618.9030679955999
      positionAbsolute:
        x: 85.07402093158464
        y: 618.9030679955999
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-vl-max-0809
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: fdc52cd1-d228-4e94-95ac-52b555ad3675
          role: system
          text: 'å°†{{#1744076759037.text#}}æå–æ ¸å¿ƒå†…å®¹ï¼Œä»¥ JSON çš„å½¢å¼è¾“å‡ºï¼Œè¾“å‡ºçš„ JSON éœ€éµå®ˆä»¥ä¸‹çš„æ ¼å¼ï¼š

            {

            "text": <å†…å®¹>

            }


            æ³¨æ„ï¼š

            1.ä¸è¦æœ‰å¤šä½™çš„è§£é‡Šï¼Œå»æ‰å¤šä½™çš„è½¬ä¹‰ç¬¦å·ï¼Œ

            2.æ£€æŸ¥å¥é¦–å¥å°¾å‡ºç°çš„å†…å®¹å¦‚æœåŒ…å«```å­—ç¬¦ï¼Œè¯·åˆ é™¤ï¼Œ

            3.æ£€æŸ¥å¥é¦–å¥å°¾å‡ºç°çš„å†…å®¹å¦‚æœåŒ…å«json\nå­—ç¬¦ï¼Œè¯·åˆ é™¤ï¼Œ

            4.æ£€æŸ¥å¥é¦–å¥å°¾å‡ºç°çš„å†…å®¹å¦‚æœåŒ…å«jsonå­—ç¬¦ï¼Œè¯·åˆ é™¤ï¼Œ

            åªè¦ä»¥ä¸Šæ ¼å¼çš„åŒ…å«{}çš„æ•´ä½“å†…å®¹æ•°æ®ã€‚




            '
        selected: true
        title: LLM 2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1744082945014'
      position:
        x: 467.43638010755365
        y: 282
      positionAbsolute:
        x: 467.43638010755365
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1: str) -> dict:\n    # å°†è¾“å…¥å­—ç¬¦ä¸²è½¬æ¢ä¸ºè¡¨æ ¼æ ¼å¼\n    import json\n\
          \    data = json.loads(arg1)\n    str1 = data['text']\n    table = [[str1]]\n\
          \    # å°†è¡¨æ ¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼çš„åµŒå¥—åˆ—è¡¨ï¼Œå¹¶æ·»åŠ è½¬ä¹‰å­—ç¬¦\n    result_str = str(table).replace(\"\
          '\", '\"')  # å°†å•å¼•å·æ›¿æ¢ä¸ºåŒå¼•å·\n    # è¿”å›ç»“æœ\n    return {\n        \"result\":\
          \ result_str,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1744082945014'
          - text
          variable: arg1
      height: 54
      id: '1744083501908'
      position:
        x: 467.43638010755365
        y: 443.05185420978285
      positionAbsolute:
        x: 467.43638010755365
        y: 443.05185420978285
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: feishu_spreadsheet
        provider_name: feishu_spreadsheet
        provider_type: builtin
        selected: false
        title: æ–°å¢å¤šè¡Œè‡³å·¥ä½œè¡¨æœ€å
        tool_configurations:
          length: 1
        tool_label: æ–°å¢å¤šè¡Œè‡³å·¥ä½œè¡¨æœ€å
        tool_name: add_rows
        tool_parameters:
          spreadsheet_token:
            type: mixed
            value: '{{#env.url#}}'
          values:
            type: mixed
            value: '{{#1744083501908.result#}}'
        type: tool
      height: 90
      id: '1744085436984'
      position:
        x: 467.43638010755365
        y: 599.750955603085
      positionAbsolute:
        x: 467.43638010755365
        y: 599.750955603085
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 43.79185289864074
      y: -82.2925208375782
      zoom: 0.8705505632961256
