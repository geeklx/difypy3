app:
  description: æœ¬å·¥ä½œæµä¸»è¦æ˜¯è§£å†³ç”¨æˆ·ä¸Šä¼ çš„æ–‡æœ¬ç±»è½¯ä»¶å¼€å‘åˆåŒå®¡æŸ¥é£é™©ï¼Œæå‡ºå®¡æŸ¥æ„è§ï¼Œç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: AI-sqlä¼˜åŒ–
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: bowenliang123/md_exporter:0.5.0@7e9d1dd9aaac0e3206d44a90f5b1f993f27f0e6c4e6c61f0d937d28e386616a7
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/wecom:0.0.2@13392834d29569db50915818a9bc93dae67260b29a98885945ecc35dc0e8aab4
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/anthropic:0.0.13@3c4d4e14652baa9ce1f10e934da9995b3cde0f2ec94ee6638b73fecf1ed53288
kind: app
version: 0.2.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .sql
      allowed_file_types:
      - custom
      allowed_file_upload_methods:
      - local_file
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
      number_limits: 10
    opening_statement: 'ä½ å¯ä»¥è¯´ï¼Œè¯·å¸®æˆ‘ä¼˜åŒ–ä»¥ä¸‹ä»£ç ï¼š

      æ­¤å¤„ä¸ºsqlæŸ¥è¯¢è¯­å¥

      XXXXXXXXXXX'
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1745562656186-source-answer-target
      source: '1745562656186'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: tool
      id: 1745562656186-source-1745373309922-target
      source: '1745562656186'
      sourceHandle: source
      target: '1745373309922'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1745372262597-source-1746000021541-target
      source: '1745372262597'
      sourceHandle: source
      target: '1746000021541'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: 1746000021541-source-1745562656186-target
      source: '1746000021541'
      sourceHandle: source
      target: '1745562656186'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1745372262597'
      position:
        x: -333
        y: 290
      positionAbsolute:
        x: -333
        y: 290
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "{{#1746000021541.text#}}\n <br>\n{{#1745562656186.files#}}"
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 124
      id: answer
      position:
        x: 393.115108666153
        y: 261.8247114313855
      positionAbsolute:
        x: 393.115108666153
        y: 261.8247114313855
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: Wecom Group bot webhook key
            ja_JP: Wecom Group bot webhook key
            pt_BR: Wecom Group bot webhook key
            zh_Hans: ç¾¤æœºå™¨äººwebhookçš„key
          label:
            en_US: Wecom Group bot webhook key
            ja_JP: Wecom Group bot webhook key
            pt_BR: Wecom Group bot webhook key
            zh_Hans: ç¾¤æœºå™¨äººwebhookçš„key
          llm_description: ''
          max: null
          min: null
          name: hook_key
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: secret-input
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Content to sent to the group.
            ja_JP: Content to sent to the group.
            pt_BR: Content to sent to the group.
            zh_Hans: ç¾¤æ¶ˆæ¯æ–‡æœ¬
          label:
            en_US: content
            ja_JP: content
            pt_BR: content
            zh_Hans: æ¶ˆæ¯å†…å®¹
          llm_description: Content of the message
          max: null
          min: null
          name: content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: text
          form: form
          human_description:
            en_US: Wecom Group bot message type
            ja_JP: Wecom Group bot message type
            pt_BR: Wecom Group bot message type
            zh_Hans: ç¾¤æœºå™¨äººwebhookçš„æ¶ˆæ¯ç±»å‹
          label:
            en_US: Wecom Group bot message type
            ja_JP: Wecom Group bot message type
            pt_BR: Wecom Group bot message type
            zh_Hans: ç¾¤æœºå™¨äººwebhookçš„æ¶ˆæ¯ç±»å‹
          llm_description: ''
          max: null
          min: null
          name: message_type
          options:
          - label:
              en_US: Text
              ja_JP: Text
              pt_BR: Text
              zh_Hans: æ–‡æœ¬
            value: text
          - label:
              en_US: Markdown
              ja_JP: Markdown
              pt_BR: Markdown
              zh_Hans: Markdown
            value: markdown
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        params:
          content: ''
          hook_key: ''
          message_type: ''
        provider_id: langgenius/wecom/wecom
        provider_name: langgenius/wecom/wecom
        provider_type: builtin
        selected: false
        title: å‘é€ç¾¤æ¶ˆæ¯
        tool_configurations:
          hook_key: 81620a86-d986-4509-ac0f-ac93aa7a9d4f
          message_type: text
        tool_label: å‘é€ç¾¤æ¶ˆæ¯
        tool_name: wecom_group_bot
        tool_parameters:
          content:
            type: mixed
            value: '{{#llm.text#}}'
        type: tool
      height: 116
      id: '1745373309922'
      position:
        x: 383.3805573767537
        y: 502.6117280563067
      positionAbsolute:
        x: 383.3805573767537
        y: 502.6117280563067
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          label:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          llm_description: ''
          max: null
          min: null
          name: md_text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          md_text: ''
        provider_id: bowenliang123/md_exporter/md_exporter
        provider_name: bowenliang123/md_exporter/md_exporter
        provider_type: builtin
        selected: false
        title: Markdownè½¬Docxæ–‡ä»¶
        tool_configurations: {}
        tool_label: Markdownè½¬Docxæ–‡ä»¶
        tool_name: md_to_docx
        tool_parameters:
          md_text:
            type: mixed
            value: '{{#1746000021541.text#}}'
        type: tool
      height: 54
      id: '1745562656186'
      position:
        x: 65.78241990133301
        y: 399.52996427184314
      positionAbsolute:
        x: 65.78241990133301
        y: 399.52996427184314
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: claude-3-7-sonnet-20250219
          provider: langgenius/anthropic/anthropic
        prompt_template:
        - id: a957818b-c873-4bcf-bf92-c0e11d8e679a
          role: system
          text: "# Role: SQLä¼˜åŒ–ä¸“å®¶\n\n## Profile\n- language: ä¸­æ–‡\n- description: ä¸€ä½ä¸“ç²¾äºSQLè¯­å¥ä¼˜åŒ–çš„ä¸“å®¶ï¼Œèƒ½å¤Ÿé’ˆå¯¹ä¸åŒæ•°æ®åº“ç±»å‹ï¼ˆå¦‚MySQLã€PostgreSQLã€Oracleã€SQL\
            \ Serverç­‰ï¼‰æä¾›é«˜æ€§èƒ½ã€é«˜å¯è¯»æ€§ä¸é«˜å¯ç»´æŠ¤æ€§çš„SQLè¯­å¥ç”Ÿæˆä¸ä¼˜åŒ–å»ºè®®ã€‚\n- background: æ‹¥æœ‰10å¹´ä»¥ä¸Šæ•°æ®åº“å¼€å‘ä¸æ€§èƒ½ä¼˜åŒ–ç»éªŒï¼Œç†Ÿæ‚‰å„ç§æ•°æ®åº“çš„æŸ¥è¯¢æ‰§è¡Œæœºåˆ¶ã€ç´¢å¼•ç­–ç•¥ã€äº‹åŠ¡ç®¡ç†åŠSQLåæ¨¡å¼ï¼Œèƒ½å¤Ÿåœ¨ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹æä¾›å®šåˆ¶åŒ–ä¼˜åŒ–æ–¹æ¡ˆã€‚\n\
            - personality: ä¸¥è°¨ã€ç»†è‡´ã€é€»è¾‘æ¸…æ™°ã€ç»“æœå¯¼å‘ï¼Œæ³¨é‡æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§å¹¶é‡ã€‚\n- expertise: SQLè¯­å¥ä¼˜åŒ–ã€æ•°æ®åº“è®¾è®¡ã€ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢é‡å†™ã€æ‰§è¡Œè®¡åˆ’åˆ†æã€æ•°æ®å»ºæ¨¡ã€‚\n\
            - target_audience: åç«¯å·¥ç¨‹å¸ˆã€æ•°æ®åº“ç®¡ç†å‘˜ã€æ•°æ®åˆ†æå¸ˆã€BIå·¥ç¨‹å¸ˆã€æ¶æ„å¸ˆã€‚\n\n## Skills\n\n1. SQLä¼˜åŒ–æŠ€èƒ½\n\
            \   - æŸ¥è¯¢é‡å†™: å¯¹ä½æ•ˆSQLè¿›è¡Œé€»è¾‘é‡æ„ï¼Œæå‡æ‰§è¡Œæ•ˆç‡\n   - ç´¢å¼•åˆ†æä¸è®¾è®¡: æ ¹æ®æŸ¥è¯¢æ¨¡å¼è®¾è®¡åˆç†ç´¢å¼•ï¼Œé¿å…å…¨è¡¨æ‰«æ\n \
            \  - æ‰§è¡Œè®¡åˆ’è§£è¯»: è§£è¯»æ•°æ®åº“æ‰§è¡Œè®¡åˆ’ï¼Œæ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ\n   - æ•°æ®åº“ç‰¹æ€§ä¼˜åŒ–: æ ¹æ®ä¸åŒæ•°æ®åº“çš„ç‰¹æ€§ï¼ˆå¦‚çª—å£å‡½æ•°ã€CTEã€åˆ†åŒºè¡¨ç­‰ï¼‰è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ä¼˜åŒ–\n\
            \n2. æ•°æ®åº“å·¥ç¨‹æŠ€èƒ½\n   - æ•°æ®å»ºæ¨¡: è®¾è®¡é«˜æ•ˆçš„æ•°æ®åº“ç»“æ„ä»¥æ”¯æŒå¤æ‚æŸ¥è¯¢\n   - å¹¶å‘ä¸äº‹åŠ¡æ§åˆ¶: ä¼˜åŒ–é”æœºåˆ¶ä¸äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œæå‡ç³»ç»Ÿåå\n\
            \   - æ•°æ®å®‰å…¨ä¸åˆè§„: é¿å…SQLæ³¨å…¥ç­‰å®‰å…¨é—®é¢˜ï¼Œç¡®ä¿æ•°æ®å®‰å…¨\n   - æ€§èƒ½ç›‘æ§ä¸è°ƒä¼˜: ä½¿ç”¨ç›‘æ§å·¥å…·åˆ†ææ•°æ®åº“è¿è¡ŒçŠ¶æ€ï¼Œè¿›è¡Œæ€§èƒ½è°ƒä¼˜\n\
            \n## Rules\n\n1. åŸºæœ¬åŸåˆ™ï¼š\n   - ç”Ÿæˆé«˜æ€§èƒ½SQL: æ‰€æœ‰SQLå¿…é¡»åœ¨æ€§èƒ½ä¸Šä¼˜äºæˆ–ç­‰äºåŸå§‹è¯­å¥\n   - ä¼˜å…ˆä½¿ç”¨æ•°æ®åº“åŸç”Ÿç‰¹æ€§:\
            \ åˆç†åˆ©ç”¨çª—å£å‡½æ•°ã€CTEã€åˆ†åŒºç´¢å¼•ç­‰\n   - ä¿æŒè¯­ä¹‰ä¸€è‡´: ä¼˜åŒ–ä¸åº”æ”¹å˜åŸå§‹æŸ¥è¯¢çš„ä¸šåŠ¡å«ä¹‰\n   - å¯ç»´æŠ¤æ€§ä¼˜å…ˆ: ä»£ç éœ€æ¸…æ™°ã€æœ‰æ³¨é‡Šï¼Œä¾¿äºå›¢é˜Ÿç»´æŠ¤\n\
            \n2. è¡Œä¸ºå‡†åˆ™ï¼š\n   - æ•°æ®åº“æ— å…³æ€§: å°½é‡æä¾›é€šç”¨SQLï¼ŒåŒæ—¶æŒ‡å‡ºç‰¹å®šæ•°æ®åº“ä¼˜åŒ–é¡¹\n   - é€æ­¥ä¼˜åŒ–: åœ¨ä¸ç ´ååŸå§‹ç»“æ„çš„å‰æä¸‹é€å±‚æ”¹è¿›\n\
            \   - ç»™å‡ºè§£é‡Š: æ‰€æœ‰ä¼˜åŒ–æ“ä½œéœ€é™„å¸¦ç®€è¦è¯´æ˜ä¸é¢„æœŸæ•ˆæœ\n   - é¿å…è¿‡åº¦ä¼˜åŒ–: è‹¥ä¼˜åŒ–æ”¶ç›Šä¸æ˜æ˜¾ï¼Œåº”ä¿æŒä»£ç ç®€æ´\n\n3. é™åˆ¶æ¡ä»¶ï¼š\n\
            \   - ä¸ç”Ÿæˆå±é™©è¯­å¥: ç¦æ­¢ç”ŸæˆDELETE/UPDATEæ— WHEREçš„è¯­å¥\n   - ä¸ä½¿ç”¨æœªå®šä¹‰è¡¨ç»“æ„: è‹¥æ— ç»“æ„ä¿¡æ¯ï¼Œä»…åŸºäºé€šç”¨å‡è®¾ä¼˜åŒ–\n\
            \   - ä¸æ‰§è¡ŒSQLè¯­å¥: ä»…ç”Ÿæˆä¸ä¼˜åŒ–ï¼Œä¸å®é™…è¿è¡Œ\n   - ä¸æ”¯æŒéç»“æ„åŒ–æŸ¥è¯¢: ä»…æ”¯æŒå…³ç³»å‹æ•°æ®åº“çš„ç»“æ„åŒ–æŸ¥è¯¢\n\n## Workflows\n\
            \n- ç›®æ ‡: æ ¹æ®ç”¨æˆ·æä¾›çš„SQLè¯­å¥æˆ–ä¸šåŠ¡éœ€æ±‚ï¼Œè¾“å‡ºä¼˜åŒ–åçš„SQLåŠè¯¦ç»†è¯´æ˜ï¼Œç¡®ä¿æ€§èƒ½æ›´ä¼˜ã€ç»“æ„æ›´æ¸…æ™°ã€å¯ç»´æŠ¤æ€§æ›´é«˜\n\n- æ­¥éª¤ 1:\
            \ åˆ†æåŸå§‹SQLè¯­å¥ï¼Œè¯†åˆ«æ½œåœ¨æ€§èƒ½ç“¶é¢ˆï¼ˆå¦‚å…¨è¡¨æ‰«æã€å­æŸ¥è¯¢ã€å‡½æ•°ç´¢å¼•ç­‰ï¼‰\n- æ­¥éª¤ 2: åˆ¤æ–­SQLè¯­ä¹‰ï¼Œç†è§£ä¸šåŠ¡é€»è¾‘ï¼Œç¡®ä¿ä¼˜åŒ–ä¸ä¼šå½±å“æŸ¥è¯¢ç»“æœ\n\
            - æ­¥éª¤ 3: ç»“åˆæ•°æ®åº“ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼Œé‡å†™æˆ–è°ƒæ•´SQLè¯­å¥ï¼Œè®¾è®¡åˆé€‚çš„ç´¢å¼•ç»“æ„\n- æ­¥éª¤ 4: è¾“å‡ºä¼˜åŒ–åçš„SQLè¯­å¥ã€ä¼˜åŒ–ç‚¹è¯´æ˜ã€é¢„æœŸæ”¶ç›Šå¯¹æ¯”ï¼ˆå¦‚æ‰§è¡Œæ—¶é—´ã€æ‰«æè¡Œæ•°å‡å°‘ç­‰ï¼‰\n\
            - é¢„æœŸç»“æœ: ä¸€æ¡æˆ–å¤šæ¡ç»è¿‡ä¼˜åŒ–çš„SQLè¯­å¥ï¼Œé™„å¸¦æ€§èƒ½åˆ†æä¸ä¼˜åŒ–å»ºè®®è¯´æ˜æ–‡æ¡£\n\n## Initialization\nä½œä¸ºSQLä¼˜åŒ–ä¸“å®¶ï¼Œä½ å¿…é¡»éµå®ˆä¸Šè¿°Rulesï¼ŒæŒ‰ç…§Workflowsæ‰§è¡Œä»»åŠ¡ã€‚"
        - id: b6b55236-221e-4282-a102-ce8e70606313
          role: user
          text: è¯·æ ¹æ®ç”¨æˆ·è¾“å…¥çš„{{#sys.query#}}è¿›è¡Œç¼–å†™ä¼˜åŒ–çš„ç»“æœ
        selected: false
        title: sql-llm
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: false
      height: 90
      id: '1746000021541'
      position:
        x: -333
        y: 407.61004360337256
      positionAbsolute:
        x: -333
        y: 407.61004360337256
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 433.08163871086055
      y: -250.4376256082793
      zoom: 1.1138504500668636
